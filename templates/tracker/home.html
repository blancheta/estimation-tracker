{% extends 'main.html' %}
{% load static %}
{% block content %}
<div class="row container">
    <div class="col-lg-4">
        <h1 class="text-center">Task add Form</h1>

        <!-- Data recovery form to add to the database -->
        <!-- method (1) form -->
        <!--
    
<form method="POST" class="text-center">
    {% csrf_token %}
    <div class="form-group ">
        <label> Name of the task</label>
        <input class="form-control" type="text" name="name" required>
    </div>
    <div class="form-group ">
        <label> Planning Time</label>
        <input class="form-control" type="time" name="planning" required>
    </div>
    <div class="form-group ">
        <label> Self Estimated Time</label>
        <input class="form-control" type="time" name="estimated" required>
    </div>
    <div class="form-group ">
        <label> Real Time spent</label>
        <input class="form-control" type="time" name="real" required>
    </div>
    <div class="form-group">
        <label> Risk</label>
        <select class="custom-select" name="risk">
            <option value="-" selected>--</option>
            <option value="not risky">Not risky</option>
            <option value="risky">Risky</option>
            <option value="very risky">Very risky</option>
        </select>
    </div>
    <div class="form-group ">
        <label> Level</label>
        <select class="custom-select" name="level">
            <option value="-" selected>--</option>
            <option value="easy" >Easy</option>
            <option value="medium" >Medium</option>
            <option value="hard">Hard</option>
        </select>
    </div>
    <div class="form-group ">
        <label> Notes </label>
        <input class="form-control" type="text" name="notes" required>
    </div>
    
    <button class="btn btn-primary " type="submit">Calcul</button>
</form>
-->
        <!-- method (2) form -->
        <form method="POST">
            {% csrf_token %}
            <div class="form-group">
                {{form.as_p}}
                <button class="btn btn-primary" type="submit">Create a new task</button>
            </div>
        </form>
    </div>

    <div class="col-lg-5 ">
        <h1 class="text-center"> Table </h1>
        <!-- Display of data from the database in a table -->
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th scope="col">
                        Name
                    </th>
                    <th scope="col">
                        Planning Time
                    </th>
                    <th scope="col">
                        Self Estimated Time
                    </th>
                    <th scope="col">
                        Estimated Time By Calc
                    </th>
                    <th scope="col">
                        Real Time HH:SS
                    </th>
                    <th scope="col">
                        Risk
                    </th>
                    <th scope="col">
                        Level
                    </th>
                    <th scope="col">
                        Correctness
                    </th>
                    <th scope="col">
                        Notes
                    </th>
            </thead>

            <tbody>
                {% for data in data %}

                <tr>
                    <td>{{ data.name }}</td>
                    <td>{{data.planning}}</td>
                    <td>{{ data.estimate }}</td>
                    <td>{{ data.estimateb_by_calc }}</td>
                    <td>{{ data.realtime }}</td>
                    <td>{{ data.risk }}</td>
                    <td>{{ data.level }}</td>
                    <td>{{ data.correctness }}%</td>
                    <td>{{ data.notes }}</td>
                </tr>
                {%endfor%}
            </tbody>

        </table>
        <i class="h4">Average correctness: {{moyenne_correctness}} %</i>

    </div>
</div>
{% endblock %}